<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>WebSocket Test</title>
    </head>
    <body>
        <div>
            <input type="text" id="input"/>
            <input type="submit" id="submit"/>
        </div>
        <div id="output"></div>
        <script type="text/javascript">
            let submit = document.querySelector("input#submit");
            let input = document.querySelector("input#input");
            let output = document.querySelector("div#output");

            let url = "ws://localhost:9000";
            let ws = new WebSocket(url);

            ws.onopen = function(evt) {

            }

            ws.onclose = function(evt) {

            }

            ws.onmessage = function(evt) {
                console.log(evt.data)
                let p = document.createElement("p");
                p.innerHTML = evt.data;
                output.appendChild(p);
            }

            ws.onerror = function(evt) {

            }

            submit.addEventListener("click", function(){
                ws.send(input.value);
                input.value = "";
            });
        </script>
    </body>
</html>